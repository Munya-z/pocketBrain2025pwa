import{a as T}from"./chunk-Y6PIL4JR.js";import{f as L}from"./chunk-5OJ3AFNZ.js";import"./chunk-KHYJEK4E.js";import{$ as g,Aa as M,Na as x,Oa as h,Pa as b,Qa as E,Ra as v,Sa as t,Ta as n,Ua as s,Va as P,Wa as d,Xa as O,Y as f,Z as w,_ as p,ab as c,bb as u,cb as S,eb as k,sa as a,wa as C}from"./chunk-RB5HBADI.js";var V=(r,i)=>i.id;function q(r,i){if(r&1){let l=P();t(0,"div",38),d("click",function(){let o=f(l).$implicit,m=O();return w(m.openModal(o))}),t(1,"div")(2,"p",39),c(3),n(),t(4,"p",40),c(5),n()(),t(6,"div")(7,"p",41),c(8),n(),t(9,"p",3),c(10),n()()()}if(r&2){let l=i.$implicit;a(3),u(l.item),a(2),u(l.id),a(3),S(" ",l.quantity,"\xA0units"),a(2),S("price\xA0:\xA0$",l.price)}}function I(r,i){r&1&&c(0," in stock ")}function z(r,i){r&1&&(t(0,"p",26),c(1,"out of stock"),n())}var _=class r{constructor(i){this.stockService=i}selectedStock={id:"",item:"",quantity:0,price:0};editStock(i,l){if(l==="Q"){let e=i.target,o=parseInt(e?.value);console.log(typeof o,"q"),this.selectedStock.quantity=o}if(l==="P"){let o=i.target?.value;console.log(o,"p"),this.selectedStock.price=o}if(l==="N"){let o=i.target?.value;console.log(o,"n"),this.selectedStock.item=o}}updateStock(i){this.stockService.updateStock(i)}deleteStock(i){this.stockService.deleteStock(i.id)}openModal(i){this.selectedStock=i,document.querySelector(".stock-view")?.showModal()}closeModal(){document.querySelector(".stock-view")?.close()}calculateTotalPotentialRevenue(i){return!i||!Array.isArray(i)?0:i.reduce((l,e)=>{let o=typeof e.price=="string"?parseFloat(e.price):e.price,m=typeof e.quantity=="string"?parseInt(e.quantity,10):e.quantity,y=o*m;return l+(isNaN(y)?0:y)},0)}calculateTotalQuantity(i){return!i||!Array.isArray(i)?0:i.reduce((l,e)=>{let o=typeof e.quantity=="string"?parseInt(e.quantity,10):e.quantity;return l+(isNaN(o)?0:o)},0)}static \u0275fac=function(l){return new(l||r)(C(T))};static \u0275cmp=M({type:r,selectors:[["app-view-stock"]],decls:68,vars:10,consts:[[1,"view-stock","bg-m"],[1,"clr-white"],[1,"xxl-font","mb-1"],[1,"small-font"],[1,"cards"],[1,"card"],[1,"small-font","mb-1","clr-m-light"],[1,"xxl-font","mb-1","clr-white"],[1,"small-font","clr-m-light"],[1,"inventory-items"],[1,"xl-font","mb-2"],["routerLink","/add-stock",1,"main"],[1,"inventory-list-container"],[1,"inventory-item"],[1,"stock-view"],[1,"product-controls"],[1,"close",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 384 512"],["d","M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"],[1,"header"],[1,"icon","bg-m"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512"],["d","M192 64l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32zM82.7 207c-15.3 8.8-20.5 28.4-11.7 43.7l32 55.4c8.8 15.3 28.4 20.5 43.7 11.7l55.4-32c15.3-8.8 20.5-28.4 11.7-43.7l-32-55.4c-8.8-15.3-28.4-20.5-43.7-11.7L82.7 207zM288 192c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0zm64 160c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0zM160 384l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32zM32 352c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0z"],[1,"item-info"],["type","text",1,"xl-font",3,"keyup","value"],[1,"small-font","mb-1","truncate-text"],[1,"clr-wrn"],[1,"body","bg-clear"],[1,"cards","bg-clear"],[1,"small-font","mb-1"],[1,"xxl-font"],["type","number",3,"keyup","value"],[1,"stock-actions"],[1,"edit",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512"],["d","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"],[1,"delete",3,"click"],["d","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"],[1,"inventory-item",3,"click"],[1,"medium-font","mb-1","clr-m"],[1,"small-font","truncate-text"],[1,"medium-font","mb-1"]],template:function(l,e){l&1&&(t(0,"section",0)(1,"header",1)(2,"h2",2),c(3,"inventory managment"),n(),t(4,"p",3),c(5,"get more stock early on"),n()(),t(6,"div",4)(7,"div",5)(8,"div",6),c(9," expected revenue "),n(),t(10,"div",7)(11,"p"),c(12),n()(),s(13,"div",8),n(),t(14,"div",5)(15,"div",6),c(16," total Units "),n(),t(17,"div",7)(18,"p"),c(19),n()(),t(20,"div",8),s(21,"p"),n()()()(),t(22,"section",9)(23,"h2",10),c(24,"inventory items "),t(25,"button",11),c(26,"+ add new"),n()(),t(27,"div",12),b(28,q,11,4,"div",13,V),n()(),t(30,"dialog",14)(31,"div",15)(32,"button",16),d("click",function(){return e.closeModal()}),p(),t(33,"svg",17),s(34,"path",18),n()(),g(),t(35,"div",19)(36,"div",20),p(),t(37,"svg",21),s(38,"path",22),n()(),g(),t(39,"div",23)(40,"input",24),d("keyup",function(m){return e.editStock(m,"N")}),n(),t(41,"p",25),c(42),n(),x(43,I,1,0)(44,z,2,0,"p",26),n()(),t(45,"div",27)(46,"div",28)(47,"div",5)(48,"p",29),c(49," stock quantity "),n(),t(50,"div",30)(51,"input",31),d("keyup",function(m){return e.editStock(m,"Q")}),n()()(),t(52,"div",5)(53,"p",29),c(54," unit price "),n(),t(55,"div",30)(56,"input",31),d("keyup",function(m){return e.editStock(m,"P")}),n()()()()(),t(57,"p",3),c(58,"edit the fields above and press edit button to commit changes"),n(),t(59,"div",32)(60,"button",33),d("click",function(){return e.updateStock(e.selectedStock),e.closeModal()}),p(),t(61,"svg",34),s(62,"path",35),n(),c(63,"edit"),n(),g(),t(64,"button",36),d("click",function(){return e.deleteStock(e.selectedStock),e.closeModal()}),p(),t(65,"svg",21),s(66,"path",37),n(),c(67,"delete"),n()()()()),l&2&&(a(12),S("$",e.calculateTotalPotentialRevenue(e.stockService.getStock())),a(7),u(e.calculateTotalQuantity(e.stockService.getStock())),a(9),E(e.stockService.getStock()),a(12),v("value",k(e.selectedStock.item)),a(2),u(e.selectedStock.id),a(),h(e.selectedStock.quantity>0?43:44),a(8),v("value",k(e.selectedStock.quantity)),a(5),v("value",k(e.selectedStock.price)))},dependencies:[L],styles:[".view-stock[_ngcontent-%COMP%], .inventory-items[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;border-radius:10px 10px 0 0}.cards[_ngcontent-%COMP%]{display:flex;gap:2rem;width:100%;margin:0 auto 2rem;padding:1rem 5vw}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:1rem 0;width:50%}.inventory-items[_ngcontent-%COMP%]{width:100%;padding:0 5vw}.inventory-items[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.inventory-items[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;padding:.5rem}.inventory-items[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]:nth-child(odd){background-color:#dde7e1a8}.stock-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;padding:1rem}.stock-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%}.product-controls[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:start;padding:10px;gap:.5rem}.product-controls[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding:1rem;border-radius:50%;margin-right:10px}.product-controls[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:2rem;height:2rem;fill:#fbfbfb}.product-controls[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]{text-align:start}","input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{background:none;border:none;outline:none;font-size:2rem;font-weight:600;width:100%}"]})};export{_ as default};
