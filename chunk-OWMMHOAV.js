import{a as v}from"./chunk-WUNBKNUI.js";import{a as k}from"./chunk-Z5VVVHR7.js";import{a as C,b as n,c as N,d as F,e as S,f as o,g as h,h as x,j as w,k as E,o as y,p as I}from"./chunk-GOMNIGAX.js";import{d as f}from"./chunk-A4VS2O2T.js";import{l as g}from"./chunk-6AXJB3HD.js";import{Aa as c,Ra as b,Sa as t,Ta as e,Ua as a,Wa as D,ab as r,sa as p,wa as s}from"./chunk-RB5HBADI.js";var l=class u{constructor(m,i){this.dService=m;this.router=i;let d=new Date;this.maxDate=d.toISOString().split("T")[0]}addDebtorForm=new S({id:new o(""),name:new o("",n.required),amount:new o("",n.required),dateOfCredit:new o(""),agreedDueDate:new o("",n.required),status:new o("pending",n.required),message:new o("",n.required)});maxDate;addDebtor(){if(this.addDebtorForm.valid){this.addDebtorForm.value.dateOfCredit=this.maxDate;let m={id:"",name:this.addDebtorForm.value.name,status:"pending",debtInstances:[{id:g("debtInstance"),dateOfCredit:this.addDebtorForm.value.dateOfCredit,agreedDuedate:this.addDebtorForm.value.agreedDueDate,amount:this.addDebtorForm.value.amount,message:this.addDebtorForm.value.message,status:"pending"}]};this.dService.createNewDebtor(m),this.addDebtorForm.reset(),this.router.navigate(["/debtors"])}}static \u0275fac=function(i){return new(i||u)(s(v),s(f))};static \u0275cmp=c({type:u,selectors:[["app-add-debtor"]],decls:25,vars:1,consts:[[1,"form-container"],[1,"xxl-font","mb-2"],[1,"form",3,"formGroup"],[1,"container"],["for","debtorName",1,"clr-m"],["name","debtorName","formControlName","name","type","text","id","debtorName"],[1,"m-hz","xl-font"],["for","amount",1,"clr-m"],["type","number","formControlName","amount","name","amount","id","amount"],["for","message",1,"clr-m"],["name","message","formControlName","message","type","text","id","message"],["for","agreedDueDate",1,"clr-m"],["name","agreedDueDate","formControlName","agreedDueDate","type","date","id","agreedDueDate"],[1,"submit-btn","main",3,"click"]],template:function(i,d){i&1&&(t(0,"section",0)(1,"h2",1),r(2,"New Debtor"),e(),t(3,"form",2)(4,"div",3)(5,"label",4),r(6,"debtor name"),e(),a(7,"input",5),e(),t(8,"p",6),r(9,"debt instance"),e(),t(10,"div",3)(11,"label",7),r(12,"amount"),e(),a(13,"input",8),e(),t(14,"div",3)(15,"label",9),r(16,"message"),e(),a(17,"textarea",10),e(),t(18,"div",3)(19,"label",11),r(20,"due date"),e(),a(21,"input",12),e(),t(22,"button",13),D("click",function(){return d.addDebtor()}),r(23,"add debtor"),e()()(),a(24,"app-navigate-back")),i&2&&(p(3),b("formGroup",d.addDebtorForm))},dependencies:[y,h,C,x,N,F,I,w,E,k],encapsulation:2})};export{l as default};
