import{k as m}from"./chunk-6AXJB3HD.js";import{O as n,S as s,ba as S,fa as l}from"./chunk-RB5HBADI.js";var g=class c{constructor(t){this.document=t;let i=t.defaultView?.localStorage;i&&(this.getStock=l(JSON.parse(i.getItem("stock"))||[]))}getStock;addStock(t){t.id=m("stock"),this.getStock.update(i=>[...i,t]),localStorage.setItem("stock",JSON.stringify(this.getStock()))}sellStockItem(t,i){let e=this.getStock().filter(a=>a.item===t.item);if(e[0].item=t.name?t.item:e[0].item,i?e[0].quantity+=i:e[0].quantity-=t.quantity,e[0].quantity<0){alert("No stock available");return}e[0].price=t.price?t.price:e[0].price,this.getStock.update(a=>a.map(o=>o.item===t.item?e[0]:o)),localStorage.setItem("stockList",JSON.stringify(this.getStock()))}updateStock(t){let i=this.getStock().findIndex(e=>e.id===t.id);this.getStock.update(e=>(e[i]=t,e)),localStorage.setItem("stock",JSON.stringify(this.getStock()))}editStockItemQuantity(t){let i=t.quantity,e=t.item,a=this.getStock().filter(o=>o.item===e);a[0]&&(a[0].quantity+=i,this.getStock.update(o=>o.map(r=>r.id===a[0].id?a[0]:r)),localStorage.setItem("stock",JSON.stringify(this.getStock())))}deleteStock(t){this.getStock.update(i=>i.filter(e=>e.id!==t)),localStorage.setItem("stock",JSON.stringify(this.getStock()))}static \u0275fac=function(i){return new(i||c)(s(S))};static \u0275prov=n({token:c,factory:c.\u0275fac,providedIn:"root"})};export{g as a};
