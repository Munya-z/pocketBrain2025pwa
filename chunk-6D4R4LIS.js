import{c as T,d as P,e as k,f as A}from"./chunk-Q25FSYLX.js";import{a as O}from"./chunk-6O7B7XWW.js";import{e as L}from"./chunk-A4VS2O2T.js";import"./chunk-6AXJB3HD.js";import{$ as u,Aa as b,Na as f,Oa as y,Pa as V,Qa as z,Sa as e,Ta as n,Ua as p,Va as S,Wa as m,Xa as v,Y as C,Z as _,_ as c,ab as r,bb as h,cb as d,fa as w,sa as o,wa as E}from"./chunk-RB5HBADI.js";var D=(s,t)=>t.id;function I(s,t){if(s&1&&(e(0,"h2",3),r(1),n()),s&2){let l=v();o(),h(l.CurrentView())}}function B(s,t){s&1&&(e(0,"h2",3),r(1,"Expense managment"),n())}function $(s,t){if(s&1){let l=S();e(0,"button",27),m("click",function(){C(l);let a=v();return _(a.viewByCatagory("all"))}),r(1,"see all"),n()}}function F(s,t){if(s&1){let l=S();e(0,"div",26)(1,"div",28)(2,"p",29),r(3),n(),e(4,"p",4),r(5),n()(),e(6,"div",30)(7,"p"),r(8),n(),c(),e(9,"svg",31),m("click",function(){let a=C(l).$implicit,g=v();return _(g.deleteExpense(a))}),p(10,"path",32),n()()()}if(s&2){let l=t.$implicit;o(3),d("",l.spendType," Cost"),o(2),h(l.item),o(3),d("$\xA0",l.cost)}}var M=class s{constructor(t){this.expensesService=t}expensesArray=w(JSON.parse(localStorage.getItem("expenses")));CurrentView=w("all");viewByCatagory(t){this.expensesArray=w(JSON.parse(localStorage.getItem("expenses"))),console.log(this.expensesArray(),"before"),this.CurrentView.set(t),t!=="all"&&(this.expensesArray.update(l=>(console.log(t," sale type"),l.filter(i=>i.spendType===t))),console.log(this.expensesArray(),"after"))}calculateTotalCost(t){return!t||!Array.isArray(t)?0:t.reduce((l,i)=>{let a=typeof i.cost=="string"?parseFloat(i.cost):i.cost;return l+(isNaN(a)?0:a)},0)}deleteExpense(t){confirm("Are you sure you want to delete this expense?")&&this.expensesService.deleteExpense(t.id)}calculatePreviousMonthExpenses(t){if(!t||!Array.isArray(t))return 0;let l=k(),i=A(),a=t.filter(g=>{let x=new Date(g.date);return x>=l&&x<=i});return this.calculateTotalCost(a)}calculateCurrentMonthExpenses(t){if(!t||!Array.isArray(t))return 0;let l=T(),i=P(),a=t.filter(g=>{let x=new Date(g.date);return x>=l&&x<=i});return this.calculateTotalCost(a)}static \u0275fac=function(l){return new(l||s)(E(O))};static \u0275cmp=b({type:s,selectors:[["app-view-spending"]],decls:58,vars:6,consts:[[1,"view-spending"],[1,"spending-header"],[1,"clr-white"],[1,"xxl-font","mb-1","activity-content"],[1,"small-font"],[1,"header","clr-white"],[1,"other-times"],[1,"small-font","clr-m-light","mb-1"],[1,"xl-font"],[1,"xxl-font"],[1,"action-buttons","mb-1"],[1,"edit",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 640 512"],["d","M48 0C21.5 0 0 21.5 0 48L0 368c0 26.5 21.5 48 48 48l16 0c0 53 43 96 96 96s96-43 96-96l128 0c0 53 43 96 96 96s96-43 96-96l32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-64 0-32 0-18.7c0-17-6.7-33.3-18.7-45.3L512 114.7c-12-12-28.3-18.7-45.3-18.7L416 96l0-48c0-26.5-21.5-48-48-48L48 0zM416 160l50.7 0L544 237.3l0 18.7-128 0 0-96zM112 416a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm368-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512"],["d","M192 64l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32zM82.7 207c-15.3 8.8-20.5 28.4-11.7 43.7l32 55.4c8.8 15.3 28.4 20.5 43.7 11.7l55.4-32c15.3-8.8 20.5-28.4 11.7-43.7l-32-55.4c-8.8-15.3-28.4-20.5-43.7-11.7L82.7 207zM288 192c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0zm64 160c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0zM160 384l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32zM32 352c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 384 512"],["d","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM80 64l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16L80 96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm16 96l192 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32L96 352c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32zm0 32l0 64 192 0 0-64L96 256zM240 416l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512"],["d","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM159.3 388.7c-2.6 8.4-11.6 13.2-20 10.5s-13.2-11.6-10.5-20C145.2 326.1 196.3 288 256 288s110.8 38.1 127.3 91.3c2.6 8.4-2.1 17.4-10.5 20s-17.4-2.1-20-10.5C340.5 349.4 302.1 320 256 320s-84.5 29.4-96.7 68.7zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"],["routerLink","/add-expense",1,"main"],["d","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"],[1,"recent-expenses"],[1,"top"],[1,"secondary"],[1,"expense-card-container"],[1,"expense-card"],[1,"secondary",3,"click"],[1,"expense-card-header"],[1,"clr-m","mb-1"],[1,"medium-font","inline"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"del-svg",3,"click"],["d","M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"]],template:function(l,i){l&1&&(e(0,"section",0)(1,"section",1)(2,"header",2),f(3,I,2,1,"h2",3)(4,B,2,0,"h2",3),e(5,"p",4),r(6,"eat your money bru!"),n()(),e(7,"div",5)(8,"div",6)(9,"div")(10,"p",7),r(11,"last month"),n(),e(12,"p",8),r(13),n()(),e(14,"div")(15,"p",7),r(16,"Total Spent"),n(),e(17,"p",9),r(18),n()(),e(19,"div")(20,"p",7),r(21,"this month"),n(),e(22,"p",8),r(23),n()()()()(),e(24,"div",10)(25,"button",11),m("click",function(){return i.viewByCatagory("transport")}),c(),e(26,"svg",12),p(27,"path",13),n(),u(),e(28,"p",4),r(29,"transport"),n()(),e(30,"button",11),m("click",function(){return i.viewByCatagory("stock")}),c(),e(31,"svg",14),p(32,"path",15),n(),u(),e(33,"p",4),r(34,"stock"),n()(),e(35,"button",11),m("click",function(){return i.viewByCatagory("bills")}),c(),e(36,"svg",16),p(37,"path",17),n(),u(),e(38,"p",4),r(39,"bills"),n()(),e(40,"button",11),m("click",function(){return i.viewByCatagory("food&drink")}),c(),e(41,"svg",18),p(42,"path",19),n(),u(),e(43,"p",4),r(44,"food&drink"),n()(),e(45,"button",20),c(),e(46,"svg",14),p(47,"path",21),n(),u(),e(48,"p",4),r(49,"add"),n()()(),e(50,"div",22)(51,"div",23)(52,"p",8),r(53),n(),f(54,$,2,0,"button",24),n(),e(55,"div",25),V(56,F,11,3,"div",26,D),n()()()),l&2&&(o(3),y(i.CurrentView()!="all"?3:4),o(10),d("$\xA0",i.calculatePreviousMonthExpenses(i.expensesArray())),o(5),d("$\xA0",i.calculateTotalCost(i.expensesArray())),o(5),d("$\xA0",i.calculateCurrentMonthExpenses(i.expensesArray())),o(30),d("",i.CurrentView()," expenses"),o(),y(i.CurrentView()!="all"?54:-1),o(2),z(i.expensesArray()))},dependencies:[L],styles:[".view-spending[_ngcontent-%COMP%]{width:100vw;max-width:600px;margin:auto}.view-spending[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:2rem 5vw;background-color:#0b1612;box-shadow:0}.view-spending[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   div.other-times[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.recent-expenses[_ngcontent-%COMP%]{padding:1rem 5vw}.recent-expenses[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.expense-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 0}.expense-card[_ngcontent-%COMP%]   .expense-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:start}.action-buttons[_ngcontent-%COMP%]{padding:1rem 5vw 0}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:18%}.inline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.del-svg[_ngcontent-%COMP%]{fill:red;width:1.2rem;height:1.2rem}"]})};export{M as default};
