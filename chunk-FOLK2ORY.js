import{a as v}from"./chunk-U4CM75WX.js";import{a as C,b as a,c as F,d as N,e as S,f as o,g as h,h as x,j as w,k as E,o as y,p as I}from"./chunk-Z4UVNOQN.js";import{e as f}from"./chunk-5OJ3AFNZ.js";import{b as g}from"./chunk-KHYJEK4E.js";import{Aa as p,Ra as b,Sa as t,Ta as e,Ua as i,Wa as D,ab as r,sa as c,wa as s}from"./chunk-RB5HBADI.js";var l=class u{constructor(m,n){this.dService=m;this.router=n;let d=new Date;this.maxDate=d.toISOString().split("T")[0]}addDebtorForm=new S({id:new o(""),name:new o("",a.required),amount:new o("",a.required),dateOfCredit:new o(""),agreedDueDate:new o("",a.required),status:new o("pending",a.required),message:new o("",a.required)});maxDate;addDebtor(){if(this.addDebtorForm.valid){this.addDebtorForm.value.dateOfCredit=this.maxDate;let m={id:"",name:this.addDebtorForm.value.name,status:"pending",debtInstances:[{id:g("debtInstance"),dateOfCredit:this.addDebtorForm.value.dateOfCredit,agreedDuedate:this.addDebtorForm.value.agreedDueDate,amount:this.addDebtorForm.value.amount,message:this.addDebtorForm.value.message,status:"pending"}]};this.dService.createNewDebtor(m),this.addDebtorForm.reset(),this.router.navigate(["/debtors"])}}static \u0275fac=function(n){return new(n||u)(s(v),s(f))};static \u0275cmp=p({type:u,selectors:[["app-add-debtor"]],decls:24,vars:1,consts:[[1,"form-container"],[1,"xxl-font","mb-2"],[1,"form",3,"formGroup"],[1,"container"],["for","debtorName",1,"clr-m"],["name","debtorName","formControlName","name","type","text","id","debtorName"],[1,"m-hz","xl-font"],["for","amount",1,"clr-m"],["type","number","formControlName","amount","name","amount","id","amount"],["for","message",1,"clr-m"],["name","message","formControlName","message","type","text","id","message"],["for","agreedDueDate",1,"clr-m"],["name","agreedDueDate","formControlName","agreedDueDate","type","date","id","agreedDueDate"],[1,"submit-btn","main",3,"click"]],template:function(n,d){n&1&&(t(0,"section",0)(1,"h2",1),r(2,"New Debtor"),e(),t(3,"form",2)(4,"div",3)(5,"label",4),r(6,"debtor name"),e(),i(7,"input",5),e(),t(8,"p",6),r(9,"debt instance"),e(),t(10,"div",3)(11,"label",7),r(12,"amount"),e(),i(13,"input",8),e(),t(14,"div",3)(15,"label",9),r(16,"message"),e(),i(17,"textarea",10),e(),t(18,"div",3)(19,"label",11),r(20,"due date"),e(),i(21,"input",12),e(),t(22,"button",13),D("click",function(){return d.addDebtor()}),r(23,"add debtor"),e()()()),n&2&&(c(3),b("formGroup",d.addDebtorForm))},dependencies:[y,h,C,x,F,N,I,w,E],encapsulation:2})};export{l as default};
