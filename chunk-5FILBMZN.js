import{c as z,d as T,e as A,f as k}from"./chunk-Q25FSYLX.js";import{a as O}from"./chunk-OO4XHHAQ.js";import{f as P}from"./chunk-5OJ3AFNZ.js";import"./chunk-KHYJEK4E.js";import{$ as x,Aa as b,Na as f,Oa as y,Pa as V,Qa as L,Sa as e,Ta as n,Ua as m,Va as h,Wa as d,Xa as v,Y as C,Z as _,_ as p,ab as r,bb as S,cb as c,fa as w,sa as o,wa as E}from"./chunk-RB5HBADI.js";var D=(a,t)=>t.id;function I(a,t){if(a&1&&(e(0,"h2",3),r(1),n()),a&2){let l=v();o(),S(l.CurrentView())}}function B(a,t){a&1&&(e(0,"h2",3),r(1,"Expense managment"),n())}function $(a,t){if(a&1){let l=h();e(0,"button",25),d("click",function(){C(l);let s=v();return _(s.viewByCatagory("all"))}),r(1,"see all"),n()}}function F(a,t){if(a&1){let l=h();e(0,"div",24)(1,"div",26)(2,"p",27),r(3),n(),e(4,"p",4),r(5),n()(),e(6,"div",28)(7,"p"),r(8),n(),p(),e(9,"svg",29),d("click",function(){let s=C(l).$implicit,u=v();return _(u.deleteExpense(s))}),m(10,"path",30),n()()()}if(a&2){let l=t.$implicit;o(3),c("",l.spendType," Cost"),o(2),S(l.item),o(3),c("$\xA0",l.cost)}}var M=class a{constructor(t){this.expensesService=t}expensesArray=w(JSON.parse(localStorage.getItem("expenses")));CurrentView=w("all");viewByCatagory(t){this.expensesArray=w(JSON.parse(localStorage.getItem("expenses"))),console.log(this.expensesArray(),"before"),this.CurrentView.set(t),t!=="all"&&(this.expensesArray.update(l=>(console.log(t," sale type"),l.filter(i=>i.spendType===t))),console.log(this.expensesArray(),"after"))}calculateTotalCost(t){return!t||!Array.isArray(t)?0:t.reduce((l,i)=>{let s=typeof i.cost=="string"?parseFloat(i.cost):i.cost;return l+(isNaN(s)?0:s)},0)}deleteExpense(t){confirm("Are you sure you want to delete this expense?")&&this.expensesService.deleteExpense(t.id)}calculatePreviousMonthExpenses(t){if(!t||!Array.isArray(t))return 0;let l=A(),i=k(),s=t.filter(u=>{let g=new Date(u.date);return g>=l&&g<=i});return this.calculateTotalCost(s)}calculateCurrentMonthExpenses(t){if(!t||!Array.isArray(t))return 0;let l=z(),i=T(),s=t.filter(u=>{let g=new Date(u.date);return g>=l&&g<=i});return this.calculateTotalCost(s)}static \u0275fac=function(l){return new(l||a)(E(O))};static \u0275cmp=b({type:a,selectors:[["app-view-spending"]],decls:53,vars:6,consts:[[1,"view-spending"],[1,"spending-header"],[1,"clr-white"],[1,"xxl-font","mb-1","activity-content"],[1,"small-font"],[1,"header","clr-white"],[1,"small-font","clr-m-light","mb-1"],[1,"xxl-font"],[1,"other-times"],[1,"xl-font"],[1,"action-buttons","mb-1"],[1,"edit",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 640 512"],["d","M48 0C21.5 0 0 21.5 0 48L0 368c0 26.5 21.5 48 48 48l16 0c0 53 43 96 96 96s96-43 96-96l128 0c0 53 43 96 96 96s96-43 96-96l32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-64 0-32 0-18.7c0-17-6.7-33.3-18.7-45.3L512 114.7c-12-12-28.3-18.7-45.3-18.7L416 96l0-48c0-26.5-21.5-48-48-48L48 0zM416 160l50.7 0L544 237.3l0 18.7-128 0 0-96zM112 416a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm368-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512"],["d","M192 64l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32zM82.7 207c-15.3 8.8-20.5 28.4-11.7 43.7l32 55.4c8.8 15.3 28.4 20.5 43.7 11.7l55.4-32c15.3-8.8 20.5-28.4 11.7-43.7l-32-55.4c-8.8-15.3-28.4-20.5-43.7-11.7L82.7 207zM288 192c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0zm64 160c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0zM160 384l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32zM32 352c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 384 512"],["d","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM80 64l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16L80 96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm16 96l192 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32L96 352c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32zm0 32l0 64 192 0 0-64L96 256zM240 416l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"],["routerLink","/add-expense",1,"main"],["d","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"],[1,"recent-expenses"],[1,"top"],[1,"secondary"],[1,"expense-card-container"],[1,"expense-card"],[1,"secondary",3,"click"],[1,"expense-card-header"],[1,"clr-m","mb-1"],[1,"medium-font","inline"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"del-svg",3,"click"],["d","M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"]],template:function(l,i){l&1&&(e(0,"section",0)(1,"section",1)(2,"header",2),f(3,I,2,1,"h2",3)(4,B,2,0,"h2",3),e(5,"p",4),r(6,"eat your money bru!"),n()(),e(7,"div",5)(8,"div")(9,"p",6),r(10,"Total Spent"),n(),e(11,"p",7),r(12),n()(),e(13,"div",8)(14,"div")(15,"p",6),r(16,"last month"),n(),e(17,"p",9),r(18),n()(),e(19,"div")(20,"p",6),r(21,"this month"),n(),e(22,"p",9),r(23),n()()()()(),e(24,"div",10)(25,"button",11),d("click",function(){return i.viewByCatagory("transport")}),p(),e(26,"svg",12),m(27,"path",13),n(),x(),e(28,"p",4),r(29,"transport"),n()(),e(30,"button",11),d("click",function(){return i.viewByCatagory("stock")}),p(),e(31,"svg",14),m(32,"path",15),n(),x(),e(33,"p",4),r(34,"stock"),n()(),e(35,"button",11),d("click",function(){return i.viewByCatagory("bills")}),p(),e(36,"svg",16),m(37,"path",17),n(),x(),e(38,"p",4),r(39,"bills"),n()(),e(40,"button",18),p(),e(41,"svg",14),m(42,"path",19),n(),x(),e(43,"p",4),r(44,"add"),n()()(),e(45,"div",20)(46,"div",21)(47,"p",9),r(48),n(),f(49,$,2,0,"button",22),n(),e(50,"div",23),V(51,F,11,3,"div",24,D),n()()()),l&2&&(o(3),y(i.CurrentView()!="all"?3:4),o(9),c("$\xA0",i.calculateTotalCost(i.expensesArray())),o(6),c("$\xA0",i.calculatePreviousMonthExpenses(i.expensesArray())),o(5),c("$\xA0",i.calculateCurrentMonthExpenses(i.expensesArray())),o(25),c("",i.CurrentView()," expenses"),o(),y(i.CurrentView()!="all"?49:-1),o(2),L(i.expensesArray()))},dependencies:[P],styles:[".view-spending[_ngcontent-%COMP%]{width:100vw;max-width:600px;margin:auto}.view-spending[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:2rem 5vw;background-color:#0b1612;box-shadow:0}.view-spending[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   div.other-times[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.recent-expenses[_ngcontent-%COMP%]{padding:1rem 5vw}.recent-expenses[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.expense-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 0}.expense-card[_ngcontent-%COMP%]   .expense-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:start}.action-buttons[_ngcontent-%COMP%]{padding:1rem 5vw 0}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:20%}.inline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.del-svg[_ngcontent-%COMP%]{fill:red;width:1.2rem;height:1.2rem}"]})};export{M as default};
