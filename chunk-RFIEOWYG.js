import{a as k}from"./chunk-WUNBKNUI.js";import{a as G}from"./chunk-Z5VVVHR7.js";import{a as P,c as T,d as N,e as L,f as u,g as F,h as V,j,k as A,p as z}from"./chunk-GOMNIGAX.js";import{b as E,d as O}from"./chunk-A4VS2O2T.js";import"./chunk-6AXJB3HD.js";import{$ as C,Aa as h,Na as p,Oa as g,Pa as M,Qa as I,Ra as y,Sa as n,Ta as t,Ua as m,Va as x,Wa as b,Xa as c,Y as D,Z as _,_ as v,ab as i,bb as d,cb as S,sa as l,wa as f}from"./chunk-RB5HBADI.js";var q=(o,a)=>a.id;function $(o,a){if(o&1&&(n(0,"button",9),i(1),t()),o&2){let e=c();l(),d(e.selectedDebtor.status)}}function H(o,a){if(o&1){let e=x();n(0,"button",33),b("click",function(){D(e);let s=c();return _(s.badDebtor())}),i(1),t()}if(o&2){let e=c();l(),d(e.selectedDebtor.status)}}function B(o,a){if(o&1&&(n(0,"button",11),i(1),t()),o&2){let e=c();l(),d(e.selectedDebtor.status)}}function J(o,a){if(o&1){let e=x();n(0,"button",40),b("click",function(){D(e);let s=c().$implicit,R=c();return _(R.editInstanceStatus(s))}),i(1),t()}if(o&2){let e=c().$implicit;l(),d(e.status)}}function K(o,a){if(o&1&&(n(0,"button",37),i(1),t()),o&2){let e=c().$implicit;l(),d(e.status)}}function Q(o,a){if(o&1&&(n(0,"div",17)(1,"div",34)(2,"div")(3,"p",35),i(4),t(),n(5,"p",3),i(6),t()(),n(7,"div"),p(8,J,2,1,"button",36)(9,K,2,1,"button",37),t()(),n(10,"div",38)(11,"div")(12,"p",7),i(13,"Amount"),t(),n(14,"p",39),i(15),t()(),n(16,"div")(17,"p",7),i(18,"Due date"),t(),n(19,"P",39),i(20),t()()()()),o&2){let e=a.$implicit;l(4),d(e.message),l(2),S("created ",e.dateOfCredit),l(2),g(e.status!="paid"?8:9),l(7),d(e.amount),l(5),d(e.agreedDuedate)}}var w=class o{constructor(a,e,r){this.router=a;this.debtsService=e;this.route=r;let s=new Date;this.maxDate=s.toISOString().split("T")[0]}maxDate;selectedDebtor;addDebtInstance=new L({amount:new u(""),message:new u(""),agreedDuedate:new u,status:new u("pending"),dateOfCredit:new u});addInstance(){this.addDebtInstance.value.dateOfCredit=this.maxDate,this.debtsService.addDebtorDebtInstance(this.selectedDebtor.id,this.addDebtInstance.value)}badDebtor(){this.debtsService.editDebtorStatus(this.selectedDebtor.id,"barned"),localStorage.setItem("debtors",JSON.stringify(this.debtsService.getDebtors()))}editInstanceStatus(a){let e=a;e.status="paid",this.debtsService.editDebtorDebtInstance(this.selectedDebtor.id,e)}openModal(){document.querySelector(".new-insatnce")?.showModal()}closeModal(){document.querySelector(".new-insatnce")?.close()}selectDebtor(a){this.selectedDebtor=this.debtsService.getDebtors().find(e=>e.id===a)}ngOnInit(){this.route.paramMap.subscribe(a=>{let e=a.get("id");e&&this.selectDebtor(e)})}deleteDebtor(a){confirm("Are you sure you want to delete this debtor?")&&(this.debtsService.deleteDebtor(a),this.router.navigate(["/debtors"]))}static \u0275fac=function(e){return new(e||o)(f(O),f(k),f(E))};static \u0275cmp=h({type:o,selectors:[["app-show-debtor-details"]],decls:53,vars:7,consts:[[1,"debt-details"],[1,"debtor-details"],[1,"xxl-font","mb-1"],[1,"small-font"],["title","delete debtor","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",3,"click"],["d","M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"],[1,"quick-info"],[1,"small-font","mb-1"],[1,"xxl-font","clr-dan"],[1,"secondary","medium-font"],[1,"warning","medium-font"],[1,"bad","medium-font"],[1,"debt-instances"],[1,"heading"],[1,"xl-font"],[1,"main",3,"click"],[1,"debt-instances-container"],[1,"debt-instance"],[1,"new-insatnce"],[1,"close",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 384 512"],["d","M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"],[1,"form-container"],[1,"form",3,"formGroup"],[1,"m-hz","xl-font"],[1,"container"],["for","amount",1,"clr-m"],["type","number","formControlName","amount","name","amount","id","amount"],["for","message",1,"clr-m"],["name","message","formControlName","message","type","text","id","message"],["for","agreedDuedate",1,"clr-m"],["name","agreedDuedate","formControlName","agreedDuedate","type","date","id","agreedDueDate"],[1,"submit-btn","main",3,"click"],[1,"warning","medium-font",3,"click"],[1,"debt-instance-heading"],[1,"medium-font","clr-m","mb-1"],[1,"warning"],[1,"secondary"],[1,"debt-instance-footer"],[1,"medium-font"],[1,"warning",3,"click"]],template:function(e,r){e&1&&(n(0,"section",0)(1,"div",1)(2,"div")(3,"p",2),i(4),t(),n(5,"p",3),i(6),t()(),v(),n(7,"svg",4),b("click",function(){return r.deleteDebtor(r.selectedDebtor.id)}),m(8,"path",5),t()(),C(),n(9,"div",6)(10,"div")(11,"p",7),i(12,"Total Debt"),t(),n(13,"p",8),i(14),t()(),n(15,"div")(16,"p",7),i(17,"status"),t(),p(18,$,2,1,"button",9),p(19,H,2,1,"button",10),p(20,B,2,1,"button",11),t()(),n(21,"div",12)(22,"div",13)(23,"p",14),i(24,"Debt Instances"),t(),n(25,"button",15),b("click",function(){return r.openModal()}),i(26," + add New"),t()(),n(27,"div",16),M(28,Q,21,5,"div",17,q),t()()(),n(30,"dialog",18)(31,"button",19),b("click",function(){return r.closeModal()}),v(),n(32,"svg",20),m(33,"path",21),t()(),C(),n(34,"section",22)(35,"form",23)(36,"p",24),i(37,"new debt instance"),t(),n(38,"div",25)(39,"label",26),i(40,"amount"),t(),m(41,"input",27),t(),n(42,"div",25)(43,"label",28),i(44,"message"),t(),m(45,"textarea",29),t(),n(46,"div",25)(47,"label",30),i(48,"due date"),t(),m(49,"input",31),t(),n(50,"button",32),b("click",function(){return r.addInstance(),r.closeModal()}),i(51,"add debtor"),t()()()(),m(52,"app-navigate-back")),e&2&&(l(4),d(r.selectedDebtor==null?null:r.selectedDebtor.name),l(2),S("added on ",r.selectedDebtor==null?null:r.selectedDebtor.debtInstances[0].dateOfCredit),l(8),d(r.selectedDebtor.totalAmountOwed),l(4),g(r.selectedDebtor.status==="good"?18:-1),l(),g(r.selectedDebtor.status==="pending"?19:-1),l(),g(r.selectedDebtor.status==="barned"?20:-1),l(8),I(r.selectedDebtor.debtInstances),l(7),y("formGroup",r.addDebtInstance))},dependencies:[z,F,P,V,T,N,j,A,G],styles:[".debt-details[_ngcontent-%COMP%]{padding:0 5vw;max-width:600px;margin:auto}.debt-details[_ngcontent-%COMP%]   .debtor-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.debt-details[_ngcontent-%COMP%]   .debtor-details[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:red;width:2rem;height:2rem}.quick-info[_ngcontent-%COMP%]{margin:1rem 0 2rem;display:flex;justify-content:space-between;align-items:center;gap:1rem}.quick-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:45%}.debt-instances[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:1rem 0}.debt-instances-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:60svh;overflow-y:scroll;scroll-behavior:smooth;scroll-snap-type:mandatory;scroll-snap-align:start}.debt-instances-container[_ngcontent-%COMP%]   .debt-instance[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:.2rem 0;padding:.2rem .5rem;width:100%;justify-content:center;align-items:space-between}.debt-instances-container[_ngcontent-%COMP%]   .debt-instance[_ngcontent-%COMP%]:nth-child(odd){background-color:#dde7e1a8}.debt-instances-container[_ngcontent-%COMP%]   .debt-instance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.debt-instances-container[_ngcontent-%COMP%]   .debt-instance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:.5rem 0}"]})};export{w as default};
